"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users/myAgents";
exports.ids = ["pages/api/users/myAgents"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "validator":
/*!****************************!*\
  !*** external "validator" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("validator");

/***/ }),

/***/ "(api)/./middleware/with_protect.js":
/*!************************************!*\
  !*** ./middleware/with_protect.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _models_db_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/db_context */ \"(api)/./models/db_context.js\");\n/* harmony import */ var _models_db_context__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_models_db_context__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst withProtect = (handler)=>{\n    return async (req, res)=>{\n        try {\n            // Get token and check if it exists\n            let token = String(req.headers[\"x-access-token\"] || req.headers[\"authorization\"]); // Express headers are auto converted to lowercase\n            if (token.startsWith(\"Bearer \")) {\n                // Remove Bearer from string\n                token = token.slice(7, token.length);\n            }\n            if (token) {\n                jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, process.env.JWT_SECRET, async (err, decoded)=>{\n                    if (err) {\n                        res.status(401).json({\n                            msg: \"Token is not valid\"\n                        });\n                    } else {\n                        console.log(decoded);\n                        // Check if user exists with refresh token\n                        const currentUser = await _models_db_context__WEBPACK_IMPORTED_MODULE_2___default().User.findById(decoded.user.id);\n                        if (!currentUser) {\n                            return res.status(401).json({\n                                success: false,\n                                message: 'The user belonging to this token no longer exist.'\n                            });\n                        }\n                        // Grant access to protected route\n                        req.user = currentUser;\n                        return handler(req, res);\n                    }\n                });\n            } else {\n                res.status(401).json({\n                    msg: \"Token is not present\"\n                });\n            }\n        } catch (error) {\n            return res.status(401).json({\n                success: false,\n                message: 'Please log in to get access.'\n            });\n        }\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (withProtect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlL3dpdGhfcHJvdGVjdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWdDO0FBQ0Y7QUFDYztBQUM1QyxLQUFLLENBQUNHLFdBQVcsSUFBSUMsT0FBTyxHQUFLLENBQUM7SUFDaEMsTUFBTSxRQUFRQyxHQUFHLEVBQUVDLEdBQUcsR0FBSyxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxDQUFDO1lBQ0gsRUFBbUM7WUFDbkMsR0FBRyxDQUFDQyxLQUFLLEdBQUdDLE1BQU0sQ0FDaEJILEdBQUcsQ0FBQ0ksT0FBTyxDQUFDLENBQWdCLG9CQUFLSixHQUFHLENBQUNJLE9BQU8sQ0FBQyxDQUFlLGlCQUMzRCxDQUFrRDtZQUNyRCxFQUFFLEVBQUVGLEtBQUssQ0FBQ0csVUFBVSxDQUFDLENBQVMsV0FBRyxDQUFDO2dCQUNoQyxFQUE0QjtnQkFDNUJILEtBQUssR0FBR0EsS0FBSyxDQUFDSSxLQUFLLENBQUMsQ0FBQyxFQUFFSixLQUFLLENBQUNLLE1BQU07WUFDckMsQ0FBQztZQUNELEVBQUUsRUFBRUwsS0FBSyxFQUFFLENBQUM7Z0JBQ1ZOLDBEQUFVLENBQUNNLEtBQUssRUFBRU8sT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVUsU0FBU0MsR0FBRyxFQUFFQyxPQUFPLEdBQUssQ0FBQztvQkFDakUsRUFBRSxFQUFFRCxHQUFHLEVBQUUsQ0FBQzt3QkFDUlgsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQzs0QkFBQ0MsR0FBRyxFQUFFLENBQW9CO3dCQUFDLENBQUM7b0JBQ3BELENBQUMsTUFBTSxDQUFDO3dCQUNOQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0wsT0FBTzt3QkFDbkIsRUFBMEM7d0JBQzFDLEtBQUssQ0FBQ00sV0FBVyxHQUFHLEtBQUssQ0FBQ3RCLHVFQUF1QixDQUFDZ0IsT0FBTyxDQUFDUyxJQUFJLENBQUNDLEVBQUU7d0JBQ2pFLEVBQUUsR0FBR0osV0FBVyxFQUFFLENBQUM7NEJBQ2pCLE1BQU0sQ0FBQ2xCLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUM7Z0NBQzNCUyxPQUFPLEVBQUUsS0FBSztnQ0FDZEMsT0FBTyxFQUFFLENBQW1EOzRCQUM5RCxDQUFDO3dCQUNILENBQUM7d0JBRUQsRUFBa0M7d0JBQ2xDekIsR0FBRyxDQUFDc0IsSUFBSSxHQUFHSCxXQUFXO3dCQUV0QixNQUFNLENBQUNwQixPQUFPLENBQUNDLEdBQUcsRUFBRUMsR0FBRztvQkFDekIsQ0FBQztnQkFDSCxDQUFDO1lBQ0gsQ0FBQyxNQUFNLENBQUM7Z0JBQ05BLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUM7b0JBQUNDLEdBQUcsRUFBRSxDQUFzQjtnQkFBQyxDQUFDO1lBQ3RELENBQUM7UUFDSCxDQUFDLENBQUMsS0FBSyxFQUFFVSxLQUFLLEVBQUUsQ0FBQztZQUNmLE1BQU0sQ0FBQ3pCLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUM7Z0JBQzNCUyxPQUFPLEVBQUUsS0FBSztnQkFDZEMsT0FBTyxFQUFFLENBQThCO1lBQ3pDLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUM7QUFFRCxpRUFBZTNCLFdBQVcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z0LWdsb2JhbC8uL21pZGRsZXdhcmUvd2l0aF9wcm90ZWN0LmpzP2Y5NDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJvbWlzaWZ5IH0gZnJvbSAndXRpbCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgZGJDb250ZXh0IGZyb20gJy4uL21vZGVscy9kYl9jb250ZXh0JzsgXG5jb25zdCB3aXRoUHJvdGVjdCA9IChoYW5kbGVyKSA9PiB7XG4gIHJldHVybiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHRva2VuIGFuZCBjaGVjayBpZiBpdCBleGlzdHNcbiAgICAgIGxldCB0b2tlbiA9IFN0cmluZyhcbiAgICAgICAgcmVxLmhlYWRlcnNbXCJ4LWFjY2Vzcy10b2tlblwiXSB8fCByZXEuaGVhZGVyc1tcImF1dGhvcml6YXRpb25cIl1cbiAgICAgICk7IC8vIEV4cHJlc3MgaGVhZGVycyBhcmUgYXV0byBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlXG4gICAgICBpZiAodG9rZW4uc3RhcnRzV2l0aChcIkJlYXJlciBcIikpIHtcbiAgICAgICAgLy8gUmVtb3ZlIEJlYXJlciBmcm9tIHN0cmluZ1xuICAgICAgICB0b2tlbiA9IHRva2VuLnNsaWNlKDcsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZCkgPT4ge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbXNnOiBcIlRva2VuIGlzIG5vdCB2YWxpZFwiIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkZWNvZGVkKTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHVzZXIgZXhpc3RzIHdpdGggcmVmcmVzaCB0b2tlblxuICAgICAgICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBhd2FpdCBkYkNvbnRleHQuVXNlci5maW5kQnlJZChkZWNvZGVkLnVzZXIuaWQpO1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50VXNlcikge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdUaGUgdXNlciBiZWxvbmdpbmcgdG8gdGhpcyB0b2tlbiBubyBsb25nZXIgZXhpc3QuJyxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdyYW50IGFjY2VzcyB0byBwcm90ZWN0ZWQgcm91dGVcbiAgICAgICAgICAgIHJlcS51c2VyID0gY3VycmVudFVzZXI7XG5cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtc2c6IFwiVG9rZW4gaXMgbm90IHByZXNlbnRcIiB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgbG9nIGluIHRvIGdldCBhY2Nlc3MuJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhQcm90ZWN0O1xuIl0sIm5hbWVzIjpbInByb21pc2lmeSIsImp3dCIsImRiQ29udGV4dCIsIndpdGhQcm90ZWN0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsInRva2VuIiwiU3RyaW5nIiwiaGVhZGVycyIsInN0YXJ0c1dpdGgiLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXJyIiwiZGVjb2RlZCIsInN0YXR1cyIsImpzb24iLCJtc2ciLCJjb25zb2xlIiwibG9nIiwiY3VycmVudFVzZXIiLCJVc2VyIiwiZmluZEJ5SWQiLCJ1c2VyIiwiaWQiLCJzdWNjZXNzIiwibWVzc2FnZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./middleware/with_protect.js\n");

/***/ }),

/***/ "(api)/./models/db_context.js":
/*!******************************!*\
  !*** ./models/db_context.js ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\nconst userSchema = __webpack_require__(/*! ./user */ \"(api)/./models/user.js\")(mongoose);\nconst productSchema = __webpack_require__(/*! ./product */ \"(api)/./models/product.js\")(mongoose);\nconst orderSchema = __webpack_require__(/*! ./order */ \"(api)/./models/order.js\")(mongoose);\nconst User = mongoose.models.User || mongoose.model('User', userSchema);\nconst Product = mongoose.models.Product || mongoose.model('Product', productSchema);\nconst Order = mongoose.models.Order || mongoose.model('Order', orderSchema);\nmodule.exports = {\n    User,\n    Product,\n    Order\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvZGJfY29udGV4dC5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsS0FBSyxDQUFDQSxRQUFRLEdBQUdDLG1CQUFPLENBQUMsMEJBQVU7QUFDbkMsS0FBSyxDQUFDQyxVQUFVLEdBQUdELG1CQUFPLENBQUMsc0NBQVEsRUFBRUQsUUFBUTtBQUM3QyxLQUFLLENBQUNHLGFBQWEsR0FBR0YsbUJBQU8sQ0FBQyw0Q0FBVyxFQUFFRCxRQUFRO0FBQ25ELEtBQUssQ0FBQ0ksV0FBVyxHQUFHSCxtQkFBTyxDQUFDLHdDQUFTLEVBQUVELFFBQVE7QUFFL0MsS0FBSyxDQUFDSyxJQUFJLEdBQUdMLFFBQVEsQ0FBQ00sTUFBTSxDQUFDRCxJQUFJLElBQUlMLFFBQVEsQ0FBQ08sS0FBSyxDQUFDLENBQU0sT0FBRUwsVUFBVTtBQUN0RSxLQUFLLENBQUNNLE9BQU8sR0FBR1IsUUFBUSxDQUFDTSxNQUFNLENBQUNFLE9BQU8sSUFBSVIsUUFBUSxDQUFDTyxLQUFLLENBQUMsQ0FBUyxVQUFFSixhQUFhO0FBQ2xGLEtBQUssQ0FBQ00sS0FBSyxHQUFHVCxRQUFRLENBQUNNLE1BQU0sQ0FBQ0csS0FBSyxJQUFJVCxRQUFRLENBQUNPLEtBQUssQ0FBQyxDQUFPLFFBQUVILFdBQVc7QUFDMUVNLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLENBQUM7SUFBQ04sSUFBSTtJQUFFRyxPQUFPO0lBQUNDLEtBQUs7QUFBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnQtZ2xvYmFsLy4vbW9kZWxzL2RiX2NvbnRleHQuanM/NGRjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCB1c2VyU2NoZW1hID0gcmVxdWlyZSgnLi91c2VyJykobW9uZ29vc2UpO1xuY29uc3QgcHJvZHVjdFNjaGVtYSA9IHJlcXVpcmUoJy4vcHJvZHVjdCcpKG1vbmdvb3NlKTtcbmNvbnN0IG9yZGVyU2NoZW1hID0gcmVxdWlyZSgnLi9vcmRlcicpKG1vbmdvb3NlKVxuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWxzLlVzZXIgfHwgbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcbmNvbnN0IFByb2R1Y3QgPSBtb25nb29zZS5tb2RlbHMuUHJvZHVjdCB8fCBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIHByb2R1Y3RTY2hlbWEpO1xuY29uc3QgT3JkZXIgPSBtb25nb29zZS5tb2RlbHMuT3JkZXIgfHwgbW9uZ29vc2UubW9kZWwoJ09yZGVyJywgb3JkZXJTY2hlbWEpO1xubW9kdWxlLmV4cG9ydHMgPSB7IFVzZXIsIFByb2R1Y3QsT3JkZXIgfTtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJ1c2VyU2NoZW1hIiwicHJvZHVjdFNjaGVtYSIsIm9yZGVyU2NoZW1hIiwiVXNlciIsIm1vZGVscyIsIm1vZGVsIiwiUHJvZHVjdCIsIk9yZGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/db_context.js\n");

/***/ }),

/***/ "(api)/./models/order.js":
/*!*************************!*\
  !*** ./models/order.js ***!
  \*************************/
/***/ ((module) => {

eval("\nmodule.exports = (mongoose)=>{\n    const orderDetail = new mongoose.Schema({\n        product: {\n            type: mongoose.Schema.Types.ObjectId,\n            ref: 'Product',\n            required: [\n                true,\n                'Product is required'\n            ]\n        },\n        price: {\n            type: Number,\n            required: [\n                true,\n                'Price is required'\n            ]\n        },\n        discount: {\n            type: Number\n        },\n        qty: {\n            type: Number,\n            required: [\n                true,\n                'Qty is required'\n            ]\n        }\n    });\n    const destinationInfo = new mongoose.Schema({\n        address: {\n            type: String,\n            required: [\n                true,\n                'address is required'\n            ]\n        },\n        lat: {\n            type: Number,\n            required: [\n                true,\n                'Lat is required'\n            ]\n        },\n        lng: {\n            type: Number,\n            required: [\n                true,\n                'Lat is required'\n            ]\n        },\n        deliveryFee: {\n            type: Number,\n            required: [\n                true,\n                'Delivery Fee is required'\n            ]\n        }\n    });\n    const orderSchema = new mongoose.Schema({\n        user: {\n            type: mongoose.Schema.Types.ObjectId,\n            ref: 'User'\n        },\n        orderId: {\n            type: String\n        },\n        amount: {\n            type: Number,\n            required: [\n                true,\n                'Amount is required'\n            ]\n        },\n        note: {\n            type: String\n        },\n        orderDetails: [\n            orderDetail\n        ],\n        destination: destinationInfo,\n        status: {\n            type: String,\n            enum: [\n                'New',\n                'Delivering',\n                'Delivered',\n                'Returned'\n            ],\n            default: 'New'\n        }\n    }, {\n        timestamps: true,\n        toJSON: {\n            virtuals: true\n        },\n        toObject: {\n            virtuals: true\n        }\n    });\n    return orderSchema;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxRQUFRLEVBQUUsSUFBSTtRQUFDLENBQUM7UUFBRUMsUUFBUSxFQUFFLENBQUM7WUFBQ0QsUUFBUSxFQUFFLElBQUk7UUFBQyxDQUFDO0lBQUMsQ0FBQztJQUVsRixNQUFNLENBQUNaLFdBQVc7QUFDdEIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z0LWdsb2JhbC8uL21vZGVscy9vcmRlci5qcz9lZjkzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKG1vbmdvb3NlKSA9PiB7XG5cbiAgICBjb25zdCBvcmRlckRldGFpbCA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgICAgICBwcm9kdWN0OiB7XG4gICAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgICAgICByZWY6ICdQcm9kdWN0JyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1Byb2R1Y3QgaXMgcmVxdWlyZWQnXSxcbiAgICAgICAgfSxcbiAgICAgICAgcHJpY2U6IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1ByaWNlIGlzIHJlcXVpcmVkJ10sXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2NvdW50OiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXJcbiAgICAgICAgfSxcbiAgICAgICAgcXR5OiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICByZXF1aXJlZDogW3RydWUsICdRdHkgaXMgcmVxdWlyZWQnXSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGRlc3RpbmF0aW9uSW5mbyA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgICAgICBhZGRyZXNzOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogW3RydWUsICdhZGRyZXNzIGlzIHJlcXVpcmVkJ10sXG4gICAgICAgIH0sXG4gICAgICAgIGxhdDoge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnTGF0IGlzIHJlcXVpcmVkJ10sXG4gICAgICAgIH0sXG4gICAgICAgIGxuZzoge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnTGF0IGlzIHJlcXVpcmVkJ10sXG4gICAgICAgIH0sXG4gICAgICAgIGRlbGl2ZXJ5RmVlOiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICByZXF1aXJlZDogW3RydWUsICdEZWxpdmVyeSBGZWUgaXMgcmVxdWlyZWQnXSxcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgb3JkZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICAgICAgICB7XG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICAgICAgICAgIHJlZjogJ1VzZXInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9yZGVySWQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbW91bnQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnQW1vdW50IGlzIHJlcXVpcmVkJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm90ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFN0cmluZ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9yZGVyRGV0YWlsczogW29yZGVyRGV0YWlsXSxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbkluZm8sXG4gICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgZW51bTogWydOZXcnLCAnRGVsaXZlcmluZycsICdEZWxpdmVyZWQnLCAnUmV0dXJuZWQnXSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAnTmV3JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHsgdGltZXN0YW1wczogdHJ1ZSwgdG9KU09OOiB7IHZpcnR1YWxzOiB0cnVlIH0sIHRvT2JqZWN0OiB7IHZpcnR1YWxzOiB0cnVlIH0gfVxuICAgICk7XG4gICAgcmV0dXJuIG9yZGVyU2NoZW1hO1xufSBcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwibW9uZ29vc2UiLCJvcmRlckRldGFpbCIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJpY2UiLCJOdW1iZXIiLCJkaXNjb3VudCIsInF0eSIsImRlc3RpbmF0aW9uSW5mbyIsImFkZHJlc3MiLCJTdHJpbmciLCJsYXQiLCJsbmciLCJkZWxpdmVyeUZlZSIsIm9yZGVyU2NoZW1hIiwidXNlciIsIm9yZGVySWQiLCJhbW91bnQiLCJub3RlIiwib3JkZXJEZXRhaWxzIiwiZGVzdGluYXRpb24iLCJzdGF0dXMiLCJlbnVtIiwiZGVmYXVsdCIsInRpbWVzdGFtcHMiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInRvT2JqZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./models/order.js\n");

/***/ }),

/***/ "(api)/./models/product.js":
/*!***************************!*\
  !*** ./models/product.js ***!
  \***************************/
/***/ ((module) => {

eval("\n//const mongoose = require('mongoose');\nmodule.exports = (mongoose)=>{\n    var productSchema = new mongoose.Schema({\n        name: {\n            type: String,\n            required: [\n                true,\n                'Name is required'\n            ]\n        },\n        description: {\n            type: String,\n            required: [\n                true,\n                'Description is required'\n            ]\n        },\n        price: {\n            type: Number,\n            required: [\n                true,\n                'Price is required'\n            ]\n        },\n        discount: {\n            type: Number\n        },\n        images: {\n            type: [\n                String\n            ]\n        }\n    }, {\n        timestamps: true,\n        toJSON: {\n            virtuals: true\n        },\n        toObject: {\n            virtuals: true\n        }\n    });\n    return productSchema;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvcHJvZHVjdC5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsRUFBdUM7QUFDdkNBLE1BQU0sQ0FBQ0MsT0FBTyxJQUFJQyxRQUFRLEdBQUssQ0FBQztJQUM5QixHQUFHLENBQUNDLGFBQWEsR0FBRyxHQUFHLENBQUNELFFBQVEsQ0FBQ0UsTUFBTSxDQUNyQyxDQUFDO1FBQ0NDLElBQUksRUFBRSxDQUFDO1lBQ0xDLElBQUksRUFBRUMsTUFBTTtZQUNaQyxRQUFRLEVBQUUsQ0FBQztnQkFBQSxJQUFJO2dCQUFFLENBQWtCO1lBQUEsQ0FBQztRQUN0QyxDQUFDO1FBQ0RDLFdBQVcsRUFBRSxDQUFDO1lBQ1pILElBQUksRUFBRUMsTUFBTTtZQUNaQyxRQUFRLEVBQUUsQ0FBQztnQkFBQSxJQUFJO2dCQUFFLENBQXlCO1lBQUEsQ0FBQztRQUM3QyxDQUFDO1FBQ0RFLEtBQUssRUFBRSxDQUFDO1lBQ05KLElBQUksRUFBRUssTUFBTTtZQUNaSCxRQUFRLEVBQUUsQ0FBQztnQkFBQSxJQUFJO2dCQUFFLENBQW1CO1lBQUEsQ0FBQztRQUN2QyxDQUFDO1FBQ0RJLFFBQVEsRUFBRSxDQUFDO1lBQ1ROLElBQUksRUFBRUssTUFBTTtRQUNkLENBQUM7UUFDREUsTUFBTSxFQUFFLENBQUM7WUFDUFAsSUFBSSxFQUFFLENBQUNDO2dCQUFBQSxNQUFNO1lBQUEsQ0FBQztRQUNoQixDQUFDO0lBQ0gsQ0FBQyxFQUNELENBQUM7UUFBQ08sVUFBVSxFQUFFLElBQUk7UUFBRUMsTUFBTSxFQUFFLENBQUM7WUFBQ0MsUUFBUSxFQUFFLElBQUk7UUFBQyxDQUFDO1FBQUVDLFFBQVEsRUFBRSxDQUFDO1lBQUNELFFBQVEsRUFBRSxJQUFJO1FBQUMsQ0FBQztJQUFDLENBQUM7SUFFaEYsTUFBTSxDQUFDYixhQUFhO0FBQ3RCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mdC1nbG9iYWwvLi9tb2RlbHMvcHJvZHVjdC5qcz8wNzNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xubW9kdWxlLmV4cG9ydHMgPSAobW9uZ29vc2UpID0+IHtcbiAgdmFyIHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICAgIHtcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdOYW1lIGlzIHJlcXVpcmVkJ10sXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdEZXNjcmlwdGlvbiBpcyByZXF1aXJlZCddLFxuICAgICAgfSxcbiAgICAgIHByaWNlOiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnUHJpY2UgaXMgcmVxdWlyZWQnXSxcbiAgICAgIH0sXG4gICAgICBkaXNjb3VudDoge1xuICAgICAgICB0eXBlOiBOdW1iZXJcbiAgICAgIH0sXG4gICAgICBpbWFnZXM6IHtcbiAgICAgICAgdHlwZTogW1N0cmluZ11cbiAgICAgIH0sXG4gICAgfSxcbiAgICB7IHRpbWVzdGFtcHM6IHRydWUsIHRvSlNPTjogeyB2aXJ0dWFsczogdHJ1ZSB9LCB0b09iamVjdDogeyB2aXJ0dWFsczogdHJ1ZSB9IH1cbiAgKTtcbiAgcmV0dXJuIHByb2R1Y3RTY2hlbWE7XG59XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIm1vbmdvb3NlIiwicHJvZHVjdFNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiTnVtYmVyIiwiZGlzY291bnQiLCJpbWFnZXMiLCJ0aW1lc3RhbXBzIiwidG9KU09OIiwidmlydHVhbHMiLCJ0b09iamVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/product.js\n");

/***/ }),

/***/ "(api)/./models/user.js":
/*!************************!*\
  !*** ./models/user.js ***!
  \************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst validator = __webpack_require__(/*! validator */ \"validator\");\nmodule.exports = (mongoose)=>{\n    const refreshToken = new mongoose.Schema({\n        token: {\n            type: String,\n            trim: true\n        },\n        expiration: {\n            type: Date\n        },\n        issued: {\n            type: Date,\n            default: Date.now()\n        },\n        select: false\n    });\n    const addressSchema = new mongoose.Schema({\n        address: {\n            type: String\n        },\n        lat: {\n            type: Number\n        },\n        lng: {\n            type: Number\n        }\n    });\n    const userSchema = new mongoose.Schema({\n        name: {\n            type: String,\n            trim: true\n        },\n        fullName: {\n            type: String\n        },\n        agentCode: {\n            type: String\n        },\n        parentAgentCode: {\n            type: String\n        },\n        email: {\n            type: String,\n            trim: true,\n            unique: true,\n            required: [\n                true,\n                'email cannot be empty'\n            ],\n            lowercase: true,\n            validate: [\n                validator.isEmail\n            ]\n        },\n        phoneNumber: {\n            type: String\n        },\n        password: {\n            type: String\n        },\n        code: {\n            type: String\n        },\n        codeExpires: {\n            type: Date,\n            select: false\n        },\n        photo: {\n            type: String\n        },\n        icNumber: {\n            type: String\n        },\n        icPhotos: {\n            type: [\n                String\n            ]\n        },\n        role: {\n            type: String,\n            enum: [\n                'Admin',\n                'Manager',\n                'User',\n                'Agent'\n            ],\n            default: 'Agent'\n        },\n        authLoginToken: {\n            type: String,\n            select: false\n        },\n        authLoginExpires: {\n            type: Date,\n            select: false\n        },\n        gender: {\n            type: Number\n        },\n        country: {\n            type: String\n        },\n        dob: {\n            type: Date\n        },\n        active: {\n            type: Boolean,\n            default: false,\n            select: false\n        },\n        refreshTokens: [\n            refreshToken\n        ],\n        addresses: [\n            addressSchema\n        ]\n    }, {\n        timestamps: true,\n        toJSON: {\n            virtuals: true\n        },\n        toObject: {\n            virtuals: true\n        }\n    });\n    // userSchema.pre(/^find/, function (next) {\n    //   // This points to the current query\n    //   this.find({ active: { $ne: false } });\n    //   next();\n    // });\n    userSchema.methods.createAuthToken = function() {\n        const authToken = crypto.randomBytes(3).toString('hex');\n        this.authLoginToken = crypto.createHash('sha256').update(authToken).digest('hex');\n        this.authLoginExpires = Date.now() + 10 * 60 * 1000;\n        return authToken;\n    };\n    return userSchema;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQ3pCRyxVQUFVLENBQUMsQ0FBUSxTQUNuQkMsTUFBTSxDQUFDTCxTQUFTLEVBQ2hCTSxNQUFNLENBQUMsQ0FBSztRQUVmLElBQUksQ0FBQ3BCLGdCQUFnQixHQUFHL0IsSUFBSSxDQUFDRyxHQUFHLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJO1FBRW5ELE1BQU0sQ0FBQzBDLFNBQVM7SUFDbEIsQ0FBQztJQUNELE1BQU0sQ0FBQ25DLFVBQVU7QUFDbkIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z0LWdsb2JhbC8uL21vZGVscy91c2VyLmpzPzY1OTQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdmFsaWRhdG9yID0gcmVxdWlyZSgndmFsaWRhdG9yJyk7XG5tb2R1bGUuZXhwb3J0cyA9IChtb25nb29zZSkgPT4ge1xuICBjb25zdCByZWZyZXNoVG9rZW4gPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgICB0b2tlbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9LFxuICAgIGV4cGlyYXRpb246IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgfSxcbiAgICBpc3N1ZWQ6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxuICAgIH0sXG4gICAgc2VsZWN0OiBmYWxzZSxcbiAgfSk7XG5cbiAgY29uc3QgYWRkcmVzc1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIGFkZHJlc3M6IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgbGF0OiB7XG4gICAgICB0eXBlOiBOdW1iZXJcbiAgICB9LFxuICAgIGxuZzoge1xuICAgICAgdHlwZTogTnVtYmVyXG4gICAgfVxuICB9KTtcbiAgY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gICAge1xuICAgICAgbmFtZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHRyaW06IHRydWUsXG4gICAgICB9LFxuICAgICAgZnVsbE5hbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgICB9LFxuICAgICAgYWdlbnRDb2RlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgICAgfSxcbiAgICAgIHBhcmVudEFnZW50Q29kZToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgIH0sXG4gICAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHRyaW06IHRydWUsXG4gICAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnZW1haWwgY2Fubm90IGJlIGVtcHR5J10sXG4gICAgICAgIGxvd2VyY2FzZTogdHJ1ZSxcbiAgICAgICAgdmFsaWRhdGU6IFt2YWxpZGF0b3IuaXNFbWFpbF0sXG4gICAgICB9LFxuICAgICAgcGhvbmVOdW1iZXI6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgICB9LFxuICAgICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgICB9LFxuICAgICAgY29kZToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgIH0sXG4gICAgICBjb2RlRXhwaXJlczoge1xuICAgICAgICB0eXBlOiBEYXRlLFxuICAgICAgICBzZWxlY3Q6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIHBob3RvOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIH0sXG4gICAgICBpY051bWJlcjoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgIH0sXG4gICAgICBpY1Bob3Rvczoge1xuICAgICAgICB0eXBlOiBbU3RyaW5nXVxuICAgICAgfSxcbiAgICAgIHJvbGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBlbnVtOiBbJ0FkbWluJywgJ01hbmFnZXInLCAnVXNlcicsICdBZ2VudCddLFxuICAgICAgICBkZWZhdWx0OiAnQWdlbnQnLFxuICAgICAgfSxcbiAgICAgIGF1dGhMb2dpblRva2VuOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgc2VsZWN0OiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICBhdXRoTG9naW5FeHBpcmVzOiB7XG4gICAgICAgIHR5cGU6IERhdGUsXG4gICAgICAgIHNlbGVjdDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgZ2VuZGVyOiB7XG4gICAgICAgIHR5cGU6IE51bWJlclxuICAgICAgfSxcbiAgICAgIGNvdW50cnk6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgICB9LFxuICAgICAgZG9iOiB7XG4gICAgICAgIHR5cGU6IERhdGVcbiAgICAgIH0sXG4gICAgICBhY3RpdmU6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgICAgIHNlbGVjdDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgcmVmcmVzaFRva2VuczogW3JlZnJlc2hUb2tlbl0sXG4gICAgICBhZGRyZXNzZXM6IFthZGRyZXNzU2NoZW1hXSxcbiAgICB9LFxuICAgIHsgdGltZXN0YW1wczogdHJ1ZSwgdG9KU09OOiB7IHZpcnR1YWxzOiB0cnVlIH0sIHRvT2JqZWN0OiB7IHZpcnR1YWxzOiB0cnVlIH0gfVxuICApO1xuXG4gIC8vIHVzZXJTY2hlbWEucHJlKC9eZmluZC8sIGZ1bmN0aW9uIChuZXh0KSB7XG4gIC8vICAgLy8gVGhpcyBwb2ludHMgdG8gdGhlIGN1cnJlbnQgcXVlcnlcbiAgLy8gICB0aGlzLmZpbmQoeyBhY3RpdmU6IHsgJG5lOiBmYWxzZSB9IH0pO1xuICAvLyAgIG5leHQoKTtcbiAgLy8gfSk7XG5cbiAgdXNlclNjaGVtYS5tZXRob2RzLmNyZWF0ZUF1dGhUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBhdXRoVG9rZW4gPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMykudG9TdHJpbmcoJ2hleCcpO1xuXG4gICAgdGhpcy5hdXRoTG9naW5Ub2tlbiA9IGNyeXB0b1xuICAgICAgLmNyZWF0ZUhhc2goJ3NoYTI1NicpXG4gICAgICAudXBkYXRlKGF1dGhUb2tlbilcbiAgICAgIC5kaWdlc3QoJ2hleCcpO1xuXG4gICAgdGhpcy5hdXRoTG9naW5FeHBpcmVzID0gRGF0ZS5ub3coKSArIDEwICogNjAgKiAxMDAwO1xuXG4gICAgcmV0dXJuIGF1dGhUb2tlbjtcbiAgfTtcbiAgcmV0dXJuIHVzZXJTY2hlbWE7XG59IFxuIl0sIm5hbWVzIjpbInZhbGlkYXRvciIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9uZ29vc2UiLCJyZWZyZXNoVG9rZW4iLCJTY2hlbWEiLCJ0b2tlbiIsInR5cGUiLCJTdHJpbmciLCJ0cmltIiwiZXhwaXJhdGlvbiIsIkRhdGUiLCJpc3N1ZWQiLCJkZWZhdWx0Iiwibm93Iiwic2VsZWN0IiwiYWRkcmVzc1NjaGVtYSIsImFkZHJlc3MiLCJsYXQiLCJOdW1iZXIiLCJsbmciLCJ1c2VyU2NoZW1hIiwibmFtZSIsImZ1bGxOYW1lIiwiYWdlbnRDb2RlIiwicGFyZW50QWdlbnRDb2RlIiwiZW1haWwiLCJ1bmlxdWUiLCJyZXF1aXJlZCIsImxvd2VyY2FzZSIsInZhbGlkYXRlIiwiaXNFbWFpbCIsInBob25lTnVtYmVyIiwicGFzc3dvcmQiLCJjb2RlIiwiY29kZUV4cGlyZXMiLCJwaG90byIsImljTnVtYmVyIiwiaWNQaG90b3MiLCJyb2xlIiwiZW51bSIsImF1dGhMb2dpblRva2VuIiwiYXV0aExvZ2luRXhwaXJlcyIsImdlbmRlciIsImNvdW50cnkiLCJkb2IiLCJhY3RpdmUiLCJCb29sZWFuIiwicmVmcmVzaFRva2VucyIsImFkZHJlc3NlcyIsInRpbWVzdGFtcHMiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInRvT2JqZWN0IiwibWV0aG9kcyIsImNyZWF0ZUF1dGhUb2tlbiIsImF1dGhUb2tlbiIsImNyeXB0byIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJjcmVhdGVIYXNoIiwidXBkYXRlIiwiZGlnZXN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./models/user.js\n");

/***/ }),

/***/ "(api)/./pages/api/users/myAgents.js":
/*!*************************************!*\
  !*** ./pages/api/users/myAgents.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_db_connect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/db_connect */ \"(api)/./utils/db_connect.js\");\n/* harmony import */ var _models_db_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/db_context */ \"(api)/./models/db_context.js\");\n/* harmony import */ var _models_db_context__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_models_db_context__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _middleware_with_protect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../middleware/with_protect */ \"(api)/./middleware/with_protect.js\");\n\n\n\n(0,_utils_db_connect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\nconst handler = async (req, res)=>{\n    const { method  } = req;\n    if (method !== 'GET') {\n        return res.status(400).json({\n            success: false,\n            message: 'Only GET requests are allowed.'\n        });\n    }\n    //const user = await dbContext.User.findById(req.user.id);\n    const agents = {\n        F1: [],\n        F2: [],\n        F3: [],\n        F4: [],\n        F5: []\n    };\n    const fs1 = await _models_db_context__WEBPACK_IMPORTED_MODULE_1___default().User.find({\n        parentAgentCode: req.user.agentCode\n    });\n    agents.F1 = fs1;\n    for (let f of agents.F1){\n        const fs = await _models_db_context__WEBPACK_IMPORTED_MODULE_1___default().User.find({\n            parentAgentCode: f.agentCode\n        });\n        if (fs.length > 0) {\n            agents.F2.push(fs);\n        }\n    }\n    for (let f1 of agents.F2){\n        const fs = await _models_db_context__WEBPACK_IMPORTED_MODULE_1___default().User.find({\n            parentAgentCode: f1.agentCode\n        });\n        if (fs.length > 0) {\n            agents.F3.push(fs);\n        }\n    }\n    for (let f2 of agents.F3){\n        const fs = await _models_db_context__WEBPACK_IMPORTED_MODULE_1___default().User.find({\n            parentAgentCode: f2.agentCode\n        });\n        if (fs.length > 0) {\n            agents.F4.push(fs);\n        }\n    }\n    for (let f3 of agents.F4){\n        const fs = await _models_db_context__WEBPACK_IMPORTED_MODULE_1___default().User.find({\n            parentAgentCode: f3.agentCode\n        });\n        if (fs.length > 0) {\n            agents.F5.push(fs);\n        }\n    }\n    return res.status(200).json(agents);\n};\n//export default handler;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middleware_with_protect__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(handler));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdXNlcnMvbXlBZ2VudHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUQ7QUFDQztBQUNRO0FBQzFEQSw2REFBUztBQUVULEtBQUssQ0FBQ0csT0FBTyxVQUFVQyxHQUFHLEVBQUVDLEdBQUcsR0FBSyxDQUFDO0lBQ25DLEtBQUssQ0FBQyxDQUFDLENBQUNDLE1BQU0sRUFBQyxDQUFDLEdBQUdGLEdBQUc7SUFDdEIsRUFBRSxFQUFFRSxNQUFNLEtBQUssQ0FBSyxNQUFFLENBQUM7UUFDckIsTUFBTSxDQUFDRCxHQUFHLENBQ1BFLE1BQU0sQ0FBQyxHQUFHLEVBQ1ZDLElBQUksQ0FBQyxDQUFDO1lBQUNDLE9BQU8sRUFBRSxLQUFLO1lBQUVDLE9BQU8sRUFBRSxDQUFnQztRQUFDLENBQUM7SUFDdkUsQ0FBQztJQUNELEVBQTBEO0lBQzFELEtBQUssQ0FBQ0MsTUFBTSxHQUNaLENBQUM7UUFDQ0MsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNOQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ05DLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDTkMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNOQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQUNELEtBQUssQ0FBQ0MsR0FBRyxHQUFHLEtBQUssQ0FBQ2hCLG1FQUFtQixDQUFDLENBQUM7UUFBQ21CLGVBQWUsRUFBRWhCLEdBQUcsQ0FBQ2lCLElBQUksQ0FBQ0MsU0FBUztJQUFDLENBQUM7SUFDN0VYLE1BQU0sQ0FBQ0MsRUFBRSxHQUFHSyxHQUFHO0lBQ2YsR0FBRyxFQUFFLEdBQUcsQ0FBQ00sQ0FBQyxJQUFJWixNQUFNLENBQUNDLEVBQUUsQ0FBRSxDQUFDO1FBQ3hCLEtBQUssQ0FBQ1ksRUFBRSxHQUFHLEtBQUssQ0FBQ3ZCLG1FQUFtQixDQUFDLENBQUM7WUFBQ21CLGVBQWUsRUFBRUcsQ0FBQyxDQUFDRCxTQUFTO1FBQUMsQ0FBQztRQUNyRSxFQUFFLEVBQUVFLEVBQUUsQ0FBQ0MsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ2xCZCxNQUFNLENBQUNFLEVBQUUsQ0FBQ2EsSUFBSSxDQUFDRixFQUFFO1FBQ25CLENBQUM7SUFDSCxDQUFDO0lBQ0QsR0FBRyxFQUFFLEdBQUcsQ0FBQ0QsRUFBQyxJQUFJWixNQUFNLENBQUNFLEVBQUUsQ0FBRSxDQUFDO1FBQ3hCLEtBQUssQ0FBQ1csRUFBRSxHQUFHLEtBQUssQ0FBQ3ZCLG1FQUFtQixDQUFDLENBQUM7WUFBQ21CLGVBQWUsRUFBRUcsRUFBQyxDQUFDRCxTQUFTO1FBQUMsQ0FBQztRQUNyRSxFQUFFLEVBQUVFLEVBQUUsQ0FBQ0MsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ2xCZCxNQUFNLENBQUNHLEVBQUUsQ0FBQ1ksSUFBSSxDQUFDRixFQUFFO1FBQ25CLENBQUM7SUFDSCxDQUFDO0lBQ0QsR0FBRyxFQUFFLEdBQUcsQ0FBQ0QsRUFBQyxJQUFJWixNQUFNLENBQUNHLEVBQUUsQ0FBRSxDQUFDO1FBQ3hCLEtBQUssQ0FBQ1UsRUFBRSxHQUFHLEtBQUssQ0FBQ3ZCLG1FQUFtQixDQUFDLENBQUM7WUFBQ21CLGVBQWUsRUFBRUcsRUFBQyxDQUFDRCxTQUFTO1FBQUMsQ0FBQztRQUNyRSxFQUFFLEVBQUVFLEVBQUUsQ0FBQ0MsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ2xCZCxNQUFNLENBQUNJLEVBQUUsQ0FBQ1csSUFBSSxDQUFDRixFQUFFO1FBQ25CLENBQUM7SUFDSCxDQUFDO0lBQ0QsR0FBRyxFQUFFLEdBQUcsQ0FBQ0QsRUFBQyxJQUFJWixNQUFNLENBQUNJLEVBQUUsQ0FBRSxDQUFDO1FBQ3hCLEtBQUssQ0FBQ1MsRUFBRSxHQUFHLEtBQUssQ0FBQ3ZCLG1FQUFtQixDQUFDLENBQUM7WUFBQ21CLGVBQWUsRUFBRUcsRUFBQyxDQUFDRCxTQUFTO1FBQUMsQ0FBQztRQUNyRSxFQUFFLEVBQUVFLEVBQUUsQ0FBQ0MsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ2xCZCxNQUFNLENBQUNLLEVBQUUsQ0FBQ1UsSUFBSSxDQUFDRixFQUFFO1FBQ25CLENBQUM7SUFDSCxDQUFDO0lBQ0QsTUFBTSxDQUFDbkIsR0FBRyxDQUNQRSxNQUFNLENBQUMsR0FBRyxFQUNWQyxJQUFJLENBQUNHLE1BQU07QUFFaEIsQ0FBQztBQUVELEVBQXlCO0FBQ3pCLGlFQUFlVCxvRUFBVyxDQUFDQyxPQUFPLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z0LWdsb2JhbC8uL3BhZ2VzL2FwaS91c2Vycy9teUFnZW50cy5qcz85YmE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYkNvbm5lY3QgZnJvbSAnLi4vLi4vLi4vdXRpbHMvZGJfY29ubmVjdCdcbmltcG9ydCBkYkNvbnRleHQgZnJvbSAnLi4vLi4vLi4vbW9kZWxzL2RiX2NvbnRleHQnXG5pbXBvcnQgd2l0aFByb3RlY3QgZnJvbSAnLi4vLi4vLi4vbWlkZGxld2FyZS93aXRoX3Byb3RlY3QnO1xuZGJDb25uZWN0KCk7XG5cbmNvbnN0IGhhbmRsZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBtZXRob2QgfSA9IHJlcTtcbiAgaWYgKG1ldGhvZCAhPT0gJ0dFVCcpIHtcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKDQwMClcbiAgICAgIC5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdPbmx5IEdFVCByZXF1ZXN0cyBhcmUgYWxsb3dlZC4nIH0pO1xuICB9XG4gIC8vY29uc3QgdXNlciA9IGF3YWl0IGRiQ29udGV4dC5Vc2VyLmZpbmRCeUlkKHJlcS51c2VyLmlkKTtcbiAgY29uc3QgYWdlbnRzID1cbiAge1xuICAgIEYxOiBbXSxcbiAgICBGMjogW10sXG4gICAgRjM6IFtdLFxuICAgIEY0OiBbXSxcbiAgICBGNTogW11cbiAgfVxuICBjb25zdCBmczEgPSBhd2FpdCBkYkNvbnRleHQuVXNlci5maW5kKHsgcGFyZW50QWdlbnRDb2RlOiByZXEudXNlci5hZ2VudENvZGUgfSk7XG4gIGFnZW50cy5GMSA9IGZzMTtcbiAgZm9yIChsZXQgZiBvZiBhZ2VudHMuRjEpIHtcbiAgICBjb25zdCBmcyA9IGF3YWl0IGRiQ29udGV4dC5Vc2VyLmZpbmQoeyBwYXJlbnRBZ2VudENvZGU6IGYuYWdlbnRDb2RlIH0pO1xuICAgIGlmIChmcy5sZW5ndGggPiAwKSB7XG4gICAgICBhZ2VudHMuRjIucHVzaChmcyk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGYgb2YgYWdlbnRzLkYyKSB7XG4gICAgY29uc3QgZnMgPSBhd2FpdCBkYkNvbnRleHQuVXNlci5maW5kKHsgcGFyZW50QWdlbnRDb2RlOiBmLmFnZW50Q29kZSB9KTtcbiAgICBpZiAoZnMubGVuZ3RoID4gMCkge1xuICAgICAgYWdlbnRzLkYzLnB1c2goZnMpO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBmIG9mIGFnZW50cy5GMykge1xuICAgIGNvbnN0IGZzID0gYXdhaXQgZGJDb250ZXh0LlVzZXIuZmluZCh7IHBhcmVudEFnZW50Q29kZTogZi5hZ2VudENvZGUgfSk7XG4gICAgaWYgKGZzLmxlbmd0aCA+IDApIHtcbiAgICAgIGFnZW50cy5GNC5wdXNoKGZzKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgZiBvZiBhZ2VudHMuRjQpIHtcbiAgICBjb25zdCBmcyA9IGF3YWl0IGRiQ29udGV4dC5Vc2VyLmZpbmQoeyBwYXJlbnRBZ2VudENvZGU6IGYuYWdlbnRDb2RlIH0pO1xuICAgIGlmIChmcy5sZW5ndGggPiAwKSB7XG4gICAgICBhZ2VudHMuRjUucHVzaChmcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbiAgICAuc3RhdHVzKDIwMClcbiAgICAuanNvbihhZ2VudHMpO1xuXG59O1xuXG4vL2V4cG9ydCBkZWZhdWx0IGhhbmRsZXI7XG5leHBvcnQgZGVmYXVsdCB3aXRoUHJvdGVjdChoYW5kbGVyKTtcbiJdLCJuYW1lcyI6WyJkYkNvbm5lY3QiLCJkYkNvbnRleHQiLCJ3aXRoUHJvdGVjdCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJhZ2VudHMiLCJGMSIsIkYyIiwiRjMiLCJGNCIsIkY1IiwiZnMxIiwiVXNlciIsImZpbmQiLCJwYXJlbnRBZ2VudENvZGUiLCJ1c2VyIiwiYWdlbnRDb2RlIiwiZiIsImZzIiwibGVuZ3RoIiwicHVzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/users/myAgents.js\n");

/***/ }),

/***/ "(api)/./utils/db_connect.js":
/*!*****************************!*\
  !*** ./utils/db_connect.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nasync function dbConnect() {\n    // check if we have a connection to the database or if it's currently\n    // connecting or disconnecting (readyState 1, 2 and 3)\n    console.log(\"readyState=>\" + (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.readyState));\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.readyState) >= 1) {\n        return;\n    }\n    return mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.DATABASE, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n        useFindAndModify: false,\n        useCreateIndex: true\n    }).then(()=>{\n        console.log('DB Connection Successful');\n    });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9kYl9jb25uZWN0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtlQUNoQkMsU0FBUyxHQUFHLENBQUM7SUFDMUIsRUFBcUU7SUFDckUsRUFBc0Q7SUFDdERDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQWMsZ0JBQUdILHVFQUE4QjtJQUMzRCxFQUFFLEVBQUVBLHVFQUE4QixJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ3hDLE1BQU07SUFDUixDQUFDO0lBRUQsTUFBTSxDQUFDQSx1REFDRyxDQUFDTyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsUUFBUSxFQUFFLENBQUM7UUFDOUJDLGVBQWUsRUFBRSxJQUFJO1FBQ3JCQyxrQkFBa0IsRUFBRSxJQUFJO1FBQ3hCQyxnQkFBZ0IsRUFBRSxLQUFLO1FBQ3ZCQyxjQUFjLEVBQUUsSUFBSTtJQUN0QixDQUFDLEVBQ0FDLElBQUksS0FBTyxDQUFDO1FBQ1haLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQTBCO0lBQ3hDLENBQUM7QUFDTCxDQUFDO0FBRUQsaUVBQWVGLFNBQVMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z0LWdsb2JhbC8uL3V0aWxzL2RiX2Nvbm5lY3QuanM/NmVmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuYXN5bmMgZnVuY3Rpb24gZGJDb25uZWN0KCkge1xuICAvLyBjaGVjayBpZiB3ZSBoYXZlIGEgY29ubmVjdGlvbiB0byB0aGUgZGF0YWJhc2Ugb3IgaWYgaXQncyBjdXJyZW50bHlcbiAgLy8gY29ubmVjdGluZyBvciBkaXNjb25uZWN0aW5nIChyZWFkeVN0YXRlIDEsIDIgYW5kIDMpXG4gIGNvbnNvbGUubG9nKFwicmVhZHlTdGF0ZT0+XCIgKyBtb25nb29zZS5jb25uZWN0aW9uLnJlYWR5U3RhdGUpXG4gIGlmIChtb25nb29zZS5jb25uZWN0aW9uLnJlYWR5U3RhdGUgPj0gMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBtb25nb29zZVxuICAgIC5jb25uZWN0KHByb2Nlc3MuZW52LkRBVEFCQVNFLCB7XG4gICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgICB1c2VGaW5kQW5kTW9kaWZ5OiBmYWxzZSxcbiAgICAgIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0RCIENvbm5lY3Rpb24gU3VjY2Vzc2Z1bCcpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJkYkNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdGlvbiIsInJlYWR5U3RhdGUiLCJjb25uZWN0IiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidXNlRmluZEFuZE1vZGlmeSIsInVzZUNyZWF0ZUluZGV4IiwidGhlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/db_connect.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/users/myAgents.js"));
module.exports = __webpack_exports__;

})();